{"ast":null,"code":"var _jsxFileName = \"C:\\\\EraserImage\\\\amonnatt_image-project\\\\undo\\\\image-project\\\\src\\\\components\\\\DrawRectangle\\\\DrawRectangle.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport \"./DrawRectangle.css\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DrawRectangle = () => {\n  _s();\n  const [brushSize, setBrushSize] = useState(30);\n  const [brushColor, setBrushColor] = useState(\"rgba(255, 199, 122)\");\n  const canvasRef = useRef(null);\n  const contextRef = useRef(null);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [file, setFile] = useState();\n  const [imageDimensions, setImageDimensions] = useState({\n    width: 0,\n    height: 0\n  });\n  const [history, setHistory] = useState([]);\n  const [historyIndex, setHistoryIndex] = useState(-1);\n  useEffect(() => {\n    setupCanvas();\n  }, [brushSize, brushColor]);\n  useEffect(() => {\n    drawImageOnCanvas();\n  }, [file]);\n  const setupCanvas = () => {\n    const canvas = canvasRef.current;\n    canvas.width = 500;\n    canvas.height = 500;\n    const context = canvas.getContext(\"2d\");\n    context.lineCap = \"round\";\n    context.lineJoin = \"round\";\n    context.strokeStyle = \"black\";\n    context.lineWidth = brushSize;\n    context.strokeStyle = brushColor;\n    contextRef.current = context;\n  };\n  const startDrawing = ({\n    nativeEvent\n  }) => {\n    if (historyIndex !== history.length - 1) {\n      // Clear the future history if we're branching off from a point in history.\n      setHistory(history.slice(0, historyIndex + 1));\n    }\n    const {\n      offsetX,\n      offsetY\n    } = nativeEvent;\n    contextRef.current.beginPath();\n    contextRef.current.moveTo(offsetX, offsetY);\n    contextRef.current.lineTo(offsetX, offsetY);\n    contextRef.current.stroke();\n    setIsDrawing(true);\n    nativeEvent.preventDefault();\n  };\n  const draw = ({\n    nativeEvent\n  }) => {\n    if (!isDrawing) {\n      return;\n    }\n    const {\n      offsetX,\n      offsetY\n    } = nativeEvent;\n    contextRef.current.lineTo(offsetX, offsetY);\n    contextRef.current.stroke();\n    nativeEvent.preventDefault();\n  };\n  const stopDrawing = () => {\n    if (isDrawing) {\n      setHistory([...history, canvasRef.current.toDataURL()]);\n      setHistoryIndex(history.length);\n    }\n    setIsDrawing(false);\n  };\n  const setToDraw = () => {\n    contextRef.current.globalCompositeOperation = \"source-over\";\n  };\n  const handleBrushSizeChange = event => {\n    const newSize = parseInt(event.target.value);\n    setBrushSize(newSize);\n  };\n  const setToErase = () => {\n    contextRef.current.globalCompositeOperation = \"destination-out\";\n  };\n  const saveImageToLocal = event => {\n    const link = event.currentTarget;\n    link.setAttribute(\"download\", \"canvas.png\");\n    const image = canvasRef.current.toDataURL(\"image/png\");\n    link.setAttribute(\"href\", image);\n  };\n  const handleFile = event => {\n    setFile(event.target.files[0]);\n  };\n  const drawImageOnCanvas = () => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext(\"2d\");\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = e => {\n        const img = new Image();\n        img.onload = () => {\n          const maxWidth = window.innerWidth - 20;\n          const maxHeight = window.innerHeight - 150;\n          const width = img.width;\n          const height = img.height;\n          if (width > maxWidth || height > maxHeight) {\n            const ratio = Math.min(maxWidth / width, maxHeight / height);\n            img.width = width * ratio;\n            img.height = height * ratio;\n          }\n          canvas.width = img.width;\n          canvas.height = img.height;\n          context.drawImage(img, 0, 0, img.width, img.height);\n          context.lineCap = \"round\";\n          context.lineJoin = \"round\";\n          context.strokeStyle = \"black\";\n          context.lineWidth = brushSize;\n          context.strokeStyle = brushColor;\n          setImageDimensions({\n            width: img.width,\n            height: img.height\n          });\n          setFile(null);\n        };\n        img.src = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n  const clearCanvas = () => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext(\"2d\");\n    context.clearRect(0, 0, canvas.width, canvas.height);\n    setHistory([]);\n    setHistoryIndex(-1);\n  };\n  const undo = () => {\n    if (historyIndex > 0) {\n      setHistoryIndex(historyIndex - 1);\n      const img = new Image();\n      img.src = history[historyIndex - 1];\n      img.onload = () => {\n        contextRef.current.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height);\n        contextRef.current.drawImage(img, 0, 0);\n      };\n    }\n  };\n  const redo = () => {\n    if (historyIndex < history.length - 1) {\n      setHistoryIndex(historyIndex + 1);\n      const img = new Image();\n      img.src = history[historyIndex + 1];\n      img.onload = () => {\n        contextRef.current.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height);\n        contextRef.current.drawImage(img, 0, 0);\n      };\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"head\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: 20\n      },\n      children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n        className: \"canvas-container\",\n        ref: canvasRef,\n        onMouseDown: startDrawing,\n        onMouseMove: draw,\n        onMouseUp: stopDrawing,\n        onMouseLeave: stopDrawing,\n        style: {\n          maxWidth: \"100%\",\n          maxHeight: \"100%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"menuBar\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button\",\n        onClick: setToErase,\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa-solid fa-eraser icon-upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), \"Eraser\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"buttonEraser\",\n        onClick: setToErase,\n        children: \"Eraser\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button\",\n        onClick: undo,\n        children: \"Undo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button\",\n        onClick: redo,\n        children: \"Redo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button\",\n        onClick: clearCanvas,\n        children: \"Clear\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"button\",\n        id: \"download_image_link\",\n        href: \"download_link\",\n        onClick: saveImageToLocal,\n        children: \"Download Image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        name: \"file\",\n        id: \"fileInput\",\n        onChange: handleFile\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 171,\n    columnNumber: 5\n  }, this);\n};\n_s(DrawRectangle, \"b7kg5Je0BZChrhKA28qbUYyPqtw=\");\n_c = DrawRectangle;\nexport default DrawRectangle;\nvar _c;\n$RefreshReg$(_c, \"DrawRectangle\");","map":{"version":3,"names":["React","useEffect","useRef","useState","FontAwesomeIcon","jsxDEV","_jsxDEV","DrawRectangle","_s","brushSize","setBrushSize","brushColor","setBrushColor","canvasRef","contextRef","isDrawing","setIsDrawing","file","setFile","imageDimensions","setImageDimensions","width","height","history","setHistory","historyIndex","setHistoryIndex","setupCanvas","drawImageOnCanvas","canvas","current","context","getContext","lineCap","lineJoin","strokeStyle","lineWidth","startDrawing","nativeEvent","length","slice","offsetX","offsetY","beginPath","moveTo","lineTo","stroke","preventDefault","draw","stopDrawing","toDataURL","setToDraw","globalCompositeOperation","handleBrushSizeChange","event","newSize","parseInt","target","value","setToErase","saveImageToLocal","link","currentTarget","setAttribute","image","handleFile","files","reader","FileReader","onload","e","img","Image","maxWidth","window","innerWidth","maxHeight","innerHeight","ratio","Math","min","drawImage","src","result","readAsDataURL","clearCanvas","clearRect","undo","redo","className","children","style","padding","ref","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","fileName","_jsxFileName","lineNumber","columnNumber","onClick","id","href","type","name","onChange","_c","$RefreshReg$"],"sources":["C:/EraserImage/amonnatt_image-project/undo/image-project/src/components/DrawRectangle/DrawRectangle.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport \"./DrawRectangle.css\"\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nconst DrawRectangle = () => {\r\n  const [brushSize, setBrushSize] = useState(30);\r\n  const [brushColor, setBrushColor] = useState(\"rgba(255, 199, 122)\");\r\n  const canvasRef = useRef(null);\r\n  const contextRef = useRef(null);\r\n  const [isDrawing, setIsDrawing] = useState(false);\r\n  const [file, setFile] = useState();\r\n  const [imageDimensions, setImageDimensions] = useState({ width: 0, height: 0 });\r\n  const [history, setHistory] = useState([]);\r\n  const [historyIndex, setHistoryIndex] = useState(-1);\r\n\r\n\r\n  \r\n  useEffect(() => {\r\n    setupCanvas();\r\n  }, [brushSize, brushColor]);\r\n\r\n  useEffect(() => {\r\n    drawImageOnCanvas();\r\n  }, [file]);\r\n\r\n  const setupCanvas = () => {\r\n    const canvas = canvasRef.current;\r\n    canvas.width = 500;\r\n    canvas.height = 500;\r\n    const context = canvas.getContext(\"2d\");\r\n    context.lineCap = \"round\";\r\n    context.lineJoin = \"round\";\r\n    context.strokeStyle = \"black\";\r\n    context.lineWidth = brushSize;\r\n    context.strokeStyle = brushColor;\r\n    contextRef.current = context;\r\n  };\r\n\r\n  const startDrawing = ({ nativeEvent }) => {\r\n    if (historyIndex !== history.length - 1) {\r\n      // Clear the future history if we're branching off from a point in history.\r\n      setHistory(history.slice(0, historyIndex + 1));\r\n    }\r\n\r\n    const { offsetX, offsetY } = nativeEvent;\r\n    contextRef.current.beginPath();\r\n    contextRef.current.moveTo(offsetX, offsetY);\r\n    contextRef.current.lineTo(offsetX, offsetY);\r\n    contextRef.current.stroke();\r\n    setIsDrawing(true);\r\n    nativeEvent.preventDefault();\r\n  };\r\n\r\n  const draw = ({ nativeEvent }) => {\r\n    if (!isDrawing) {\r\n      return;\r\n    }\r\n\r\n    const { offsetX, offsetY } = nativeEvent;\r\n    contextRef.current.lineTo(offsetX, offsetY);\r\n    contextRef.current.stroke();\r\n    nativeEvent.preventDefault();\r\n  };\r\n\r\n  const stopDrawing = () => {\r\n    if (isDrawing) {\r\n      setHistory([...history, canvasRef.current.toDataURL()]);\r\n      setHistoryIndex(history.length);\r\n    }\r\n    setIsDrawing(false);\r\n  };\r\n\r\n  const setToDraw = () => {\r\n    contextRef.current.globalCompositeOperation = \"source-over\";\r\n  };\r\n\r\n  const handleBrushSizeChange = (event) => {\r\n    const newSize = parseInt(event.target.value);\r\n    setBrushSize(newSize);\r\n  };\r\n\r\n  const setToErase = () => {\r\n    contextRef.current.globalCompositeOperation = \"destination-out\";\r\n  };\r\n\r\n  const saveImageToLocal = (event) => {\r\n    const link = event.currentTarget;\r\n    link.setAttribute(\"download\", \"canvas.png\");\r\n    const image = canvasRef.current.toDataURL(\"image/png\");\r\n    link.setAttribute(\"href\", image);\r\n  };\r\n\r\n  const handleFile = (event) => {\r\n    setFile(event.target.files[0]);\r\n  };\r\n\r\n  const drawImageOnCanvas = () => {\r\n    const canvas = canvasRef.current;\r\n    const context = canvas.getContext(\"2d\");\r\n\r\n    if (file) {\r\n      const reader = new FileReader();\r\n\r\n      reader.onload = (e) => {\r\n        const img = new Image();\r\n\r\n        img.onload = () => {\r\n          const maxWidth = window.innerWidth - 20;\r\n          const maxHeight = window.innerHeight - 150;\r\n          const width = img.width;\r\n          const height = img.height;\r\n\r\n          if (width > maxWidth || height > maxHeight) {\r\n            const ratio = Math.min(maxWidth / width, maxHeight / height);\r\n            img.width = width * ratio;\r\n            img.height = height * ratio;\r\n          }\r\n\r\n          canvas.width = img.width;\r\n          canvas.height = img.height;\r\n          context.drawImage(img, 0, 0, img.width, img.height);\r\n          context.lineCap = \"round\";\r\n          context.lineJoin = \"round\";\r\n          context.strokeStyle = \"black\";\r\n          context.lineWidth = brushSize;\r\n          context.strokeStyle = brushColor;\r\n          setImageDimensions({ width: img.width, height: img.height });\r\n          setFile(null);\r\n        };\r\n\r\n        img.src = e.target.result;\r\n      };\r\n\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n  const clearCanvas = () => {\r\n    const canvas = canvasRef.current;\r\n    const context = canvas.getContext(\"2d\");\r\n    context.clearRect(0, 0, canvas.width, canvas.height);\r\n    setHistory([]);\r\n    setHistoryIndex(-1);\r\n  };\r\n  const undo = () => {\r\n    if (historyIndex > 0) {\r\n      setHistoryIndex(historyIndex - 1);\r\n      const img = new Image();\r\n      img.src = history[historyIndex - 1];\r\n      img.onload = () => {\r\n        contextRef.current.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height);\r\n        contextRef.current.drawImage(img, 0, 0);\r\n      };\r\n    }\r\n  };\r\n\r\n  const redo = () => {\r\n    if (historyIndex < history.length - 1) {\r\n      setHistoryIndex(historyIndex + 1);\r\n      const img = new Image();\r\n      img.src = history[historyIndex + 1];\r\n      img.onload = () => {\r\n        contextRef.current.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height);\r\n        contextRef.current.drawImage(img, 0, 0);\r\n      };\r\n    }\r\n  };\r\n\r\n\r\n\r\n  \r\n  return (\r\n    <div className=\"head\">\r\n       <div style={{padding:20}}>\r\n          <canvas\r\n            className=\"canvas-container\"\r\n            ref={canvasRef}\r\n            onMouseDown={startDrawing}\r\n            onMouseMove={draw}\r\n            onMouseUp={stopDrawing}\r\n            onMouseLeave={stopDrawing}\r\n            style={{\r\n              maxWidth: \"100%\",\r\n              maxHeight: \"100%\",\r\n            }}\r\n          />\r\n       </div>\r\n      \r\n      <div className=\"menuBar\">\r\n        {/* <button className=\"button\" onClick={setToDraw}>\r\n        <FontAwesomeIcon icon=\"fa-solid fa-paintbrush\" />\r\n        </button> */}\r\n        <button className=\"button\" onClick={setToErase}>\r\n          <i className=\"fa-solid fa-eraser icon-upload\"></i>\r\n          Eraser\r\n        </button>\r\n        <button className=\"buttonEraser\" onClick={setToErase}>\r\n          Eraser\r\n        </button>\r\n        <button className=\"button\" onClick={undo}>\r\n          Undo\r\n        </button>\r\n        <button className=\"button\" onClick={redo}>\r\n          Redo\r\n        </button>\r\n        <button className=\"button\" onClick={clearCanvas}>\r\n          Clear\r\n        </button>\r\n        <a\r\n          className=\"button\"\r\n          id=\"download_image_link\"\r\n          href=\"download_link\"\r\n          onClick={saveImageToLocal}\r\n        >\r\n          Download Image\r\n        </a>\r\n        <input type=\"file\" name=\"file\" id=\"fileInput\" onChange={handleFile} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DrawRectangle;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}